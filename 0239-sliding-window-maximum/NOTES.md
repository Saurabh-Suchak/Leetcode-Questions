The deque stores the indices of the elements in the sliding window in a monotonic decreasing order. This way, the front of the deque always contains the index of the maximum element in the current sliding window. The while loop pops elements from the back of the deque if the current element is larger than the elements in the deque. After processing each element, the front of the deque is checked to see if it has fallen outside of the current sliding window, in which case it is popped from the front of the deque. Finally, the maximum element in the current sliding window is appended to the result vector if the current position is greater than or equal to k - 1, since the sliding window of size k starts from index 0 and ends at index k - 1.
â€‹
https://leetcode.com/problems/sliding-window-maximum/solutions/3131580/c-easy-to-understand-with-o-n-complexity/